## 교착 상태(Deadlock)  
일어나지 않을 사건을 기다리며 진행이 멈추어 버린 현상.  

## 식사하는 철학자(Dining Philosophers Problem)  
동그란 원탁에 다섯 명의 철학자가 앉아있고 맛있는 식사가 준비되어 있다. 음식 사이에 포크가 있고 철학자는 두개의 포크로 음식을 먹을 수 있다.  
철학자들은 아래와 같은 순서로 식사를 한다.  
1. 계속 생각을 하다가 왼쪽 포크가 사용 가능하면 집어든다.
2. 계속 생각하다가 오른쪽 포크가 사용 가능하면 집어든다.
3. 왼쪽과 오른쪽 포크를 모두 집어들면 정해진 시간동안 식사를 한다.
4. 식사 시간이 끝나면 오른쪽 포크를 내려놓는다.
5. 오른쪽 포크를 내려놓은 뒤 왼쪽 포크를 내려놓는다.
6. 다시 1번부터 반복한다.

모든 철학자가 동시에 포크를 집어 식사를 하면 영원히 생각만 하게 된다. 이러면 교착 상태다.  

## 자원 할당 그래프(Resource-Allocate Graph)  
어떤 프로세스가 어떤 자원을 사용하는지, 어떤 프로세스가 어떤 자원을 기다리고 있는지 표현하는 간단한 그래프.  
![자원할당 그래프](/images/ResourceAllocation.png)

### 자원 할당 그래프가 만들어지는 규칙  
1. 프로세스는 원으로, 자원의 종류는 사각형으로 표현.
2. 사용할 수 있는 자원의 개수는 자원 사각형 안에 점으로 표시.
3. 프로세스가 어떤 자원을 할당받아 사용 중이라면 자원에서 프로세스를 향해 화살표를 표시.
4. 프로세스가 어떤 자원을 기다리고 있다면 프로세스에서 자원으로 화살표를 표시.

### 식사하는 철학자 자원할당 그래프  
![식사하는 철학자](/images/phil.png)  

## 교착 상태 발생 조건  
1. 상호 배제(Mutual Exclusion)
   한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없는 상황.
   
2. 점유와 대기(Hold and Wait)
   자원을 할당 받은 상태에서 다른 자원을 할당받기 기다리는 상태.
   
3. 비선점(Nonpreemptive)
   비선점 자원은 그 자원을 이용하는 프로세스의 작업이 끝나야만 비로소 이용이 가능하다. 어떤 프로세스도 다른 프로세스의 자원을 강제로 빼앗지 못하는 상황.
   
4. 원형 대기(Circular Wait)
   프로세스들과 프로세스가 요청 및 할당 받은 자원이 원의 형태를 이루는 상황. 원의 형태가 항상 교착 상태를 만드는 것은 아니지만 가능성이 있다. 
